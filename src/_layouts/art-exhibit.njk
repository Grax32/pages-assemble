<!DOCTYPE html>
<html lang='en'>
<head>
  <!-- build time {% buildtime %} -->
  {% block headers %}{% endblock %}
  <title>{{ title or titleonly }}</title>
  <meta name='viewport'
        content='width=device-width, height=device-height, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0'>

  <meta name='mobile-web-app-capable' content='yes'>
  <meta name='apple-mobile-web-app-capable' content='yes'>
  <meta name='theme-color' content='black'>
  <meta name='apple-mobile-web-app-status-bar-style' content='black'>

  <script src='/content/hammer.min.js' type='text/javascript'></script>
  <script src='/content/scripts.js' type='text/javascript'></script>
  <link rel='stylesheet' href='/content/art-gallery.css' />
  {% if imgPath %}
  <style>
    body {
        background-color: {{ imgPathColors[imgPath] }};
    }
  </style>
  {% endif %}
</head>
<body>

<div id='main-body'>
  <header>
    <h1>Dreamwalker Gallery</h1>
    <p class="exhibition-subtitle">An online exhibition featuring selected works from contemporary artist David Walker</p>
    <p class="exhibition-description">
      Exploring the intersection of nature and digital artistry through photography and mixed media. 
      Each piece invites viewers to pause and contemplate the extraordinary beauty found in everyday moments.
    </p>
  </header>
  <section>
    {% if imgPath %}
    <div id='show-area'>
      <div class='loading'>Loading...</div>
      <div class='loading-failed'>Image Loading Failed.</div>
      <img id='main-image' src='{{ imgPath }}' />
    </div>
    <div class='navlink prev' onclick='goPrev()'>
      <div><span class='fas fa-chevron-circle-left'></span></div>
    </div>
    <div class='navlink next' onclick='goNext()'>
      <div><span class='fas fa-chevron-circle-right'></span></div>
    </div>
    {% else %}
    {{ content | safe }}
    {% endif %}

  </section>
  <article>
    <div class="artwork-details">
      <h1 class="artwork-title-main">{{ title }}</h1>
      {% if imgDescription %}
      <p class="artwork-description-main">{{ imgDescription }}</p>
      {% endif %}
      <div class="artwork-metadata">
        <div class="metadata-row">
          <span class="metadata-label">Artist:</span>
          <span class="metadata-value">David Walker</span>
        </div>
        {% if date %}
        <div class="metadata-row">
          <span class="metadata-label">Year:</span>
          <span class="metadata-value">{{ date | date('Y') }}</span>
        </div>
        {% endif %}
        {% if tags %}
        <div class="metadata-row">
          <span class="metadata-label">Medium:</span>
          <span class="metadata-value">{{ tags | join(', ') }}</span>
        </div>
        {% endif %}
      </div>
    </div>

    <div class='exhibition-footer'>
        <h3 class='about-artist-header'>About the Artist</h3>
        <div class='about-artist'>
        David Walker is an Orlando-based artist working in photography and digital art mediums. 
        His work explores the intersection of nature and technology, capturing moments of beauty 
        in both natural and urban environments.
        </div>
        
        <div class="share-section">
          <h4>Share this artwork:</h4>
          <a class='share-link' title='Facebook' onclick="shareTo('facebook')"><i class='fab fa-facebook-f'></i></a>
          <a class='share-link' title='LinkedIn' onclick="shareTo('linkedin')"><i class='fab fa-linkedin-in'></i></a>
          <a class='share-link' title='Email' onclick="shareTo('email', 'artwork')"><i class='fas fa-at'></i></a>
        </div>
    </div>
  </article>
</div>
<template id='previous'>{{ collections.art | getRelativeUrl(page, -1) }}</template>
<template id='first'>{{ collections.art[0].url }}</template>
<template id='next'>{{ collections.art | getRelativeUrl(page, 1) }}</template>
<script>
  function getUrlOrDefault(name) {
    const url = document.getElementById(name).innerHTML;
    return url || '/art/dreamwalker-gallery/';
  }

  function goFirst() {
    location.href = getUrlOrDefault('first');
  }

  function goNext() {
    location.href = getUrlOrDefault('next');
  }

  function goPrev() {
    location.href = getUrlOrDefault('previous');
  }
</script>
{% if imgPath %}
<script>
  initializeImageResizer('#show-area');

  var hammertime = new Hammer(document.body, {});
  hammertime.on('swipeleft', goNext);
  hammertime.on('swiperight', goPrev);

  document.addEventListener('keydown', e => {
    if (e.code == 'ArrowRight') {
      goNext();
    }

    if (e.code == 'ArrowLeft') {
      goPrev();
    }
  });

</script>
{% else %}
<script>
  document.addEventListener('keydown', e => {
    if (e.code == 'ArrowRight') {
      goFirst();
    }
  });
</script>
{% endif %}
</body>
</html>
